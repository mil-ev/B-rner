!function(e){e.fn.flexisel=function(t){var a,r,u,d,n=e.extend({visibleItems:5,itemsToScroll:3,animationSpeed:400,infinite:!0,navigationTargetSelector:null,autoPlay:{enable:!1,interval:5e3,pauseOnHover:!0},responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1,itemsToScroll:1},landscape:{changePoint:640,visibleItems:2,itemsToScroll:2},tablet:{changePoint:768,visibleItems:3,itemsToScroll:3}}},t),i=e(this),l=e.extend(n,t),s=!0,o=l.visibleItems,f=l.itemsToScroll,c=[],v={init:function(){return this.each(function(){v.appendHTML(),v.setEventHandlers(),v.initializeItems()})},initializeItems:function(){var t=l.responsiveBreakpoints;for(var n in t)c.push(t[n]);c.sort(function(e,t){return e.changePoint-t.changePoint});var s=i.children();a=v.getCurrentItemWidth(),r=s.length,s.width(a),i.css({left:-a*(o+1)}),i.fadeIn(),e(window).trigger("resize"),console.log(s.width())},appendHTML:function(){if(i.addClass("nbs-flexisel-ul"),i.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>"),i.find("li").addClass("nbs-flexisel-item"),l.navigationTargetSelector&&e(l.navigationTargetSelector).length>0?e("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").appendTo(l.navigationTargetSelector):(l.navigationTargetSelector=i.parent(),e("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(".nbs-flexisel-inner")),l.infinite){var t=i.children(),n=t.clone(),a=t.clone();i.prepend(n),i.append(a)}},setEventHandlers:function(){var t=i.children();e(window).on("resize",function(n){clearTimeout(u),u=setTimeout(function(){v.calculateDisplay(),a=v.getCurrentItemWidth(),t.width(a),l.infinite?i.css({left:-a*Math.floor(t.length())}):(v.clearDisabled(),e(l.navigationTargetSelector).find(".nbs-flexisel-nav-left").addClass("disabled"),i.css({left:0}))},100)}),e(".nbs-flexisel-container").find(".nbs-flexisel-nav-left").on("click",function(e){v.scroll(!0)}),e(".nbs-flexisel-container").find(".nbs-flexisel-nav-right").on("click",function(e){v.scroll(!1)}),l.autoPlay.enable&&(v.setAutoplayInterval(),l.autoPlay.pauseOnHover===!0&&i.on({mouseenter:function(){s=!1},mouseleave:function(){s=!0}})),i[0].addEventListener("touchstart",v.touchHandler.handleTouchStart,!1),i[0].addEventListener("touchmove",v.touchHandler.handleTouchMove,!1)},calculateDisplay:function(){var t=e("html").width(),n=c[c.length-1].changePoint;for(var i in c){if(t>=n){o=l.visibleItems,f=l.itemsToScroll;break}if(t<c[i].changePoint){o=c[i].visibleItems,f=c[i].itemsToScroll;break}}},scroll:function(e){if("undefined"==typeof e&&(e=!0),1==s){if(s=!1,a=v.getCurrentItemWidth(),l.autoPlay.enable&&clearInterval(d),l.infinite)i.animate({left:e?"+="+a*f:"-="+a*f},l.animationSpeed,function(){s=!0,e?v.offsetItemsToBeginning(f):v.offsetItemsToEnd(f),v.offsetSliderPosition(e)});else{var t=a*f;e?i.animate({left:v.calculateNonInfiniteLeftScroll(t)},l.animationSpeed,function(){s=!0}):i.animate({left:v.calculateNonInfiniteRightScroll(t)},l.animationSpeed,function(){s=!0})}l.autoPlay.enable&&v.setAutoplayInterval()}},touchHandler:{xDown:null,yDown:null,handleTouchStart:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY},handleTouchMove:function(e){if(this.xDown&&this.yDown){var t=e.touches[0].clientX,n=e.touches[0].clientY,i=this.xDown-t;this.yDown-n;Math.abs(i)>0&&(i>0?v.scroll(!1):v.scroll(!0)),this.xDown=null,this.yDown=null,s=!0}}},getCurrentItemWidth:function(){return i.parent().width()/o},offsetItemsToBeginning:function(e){"undefined"==typeof e&&(e=1);for(var t=0;e>t;t++)i.children().last().insertBefore(i.children().first())},offsetItemsToEnd:function(e){"undefined"==typeof e&&(e=1);for(var t=0;e>t;t++)i.children().first().insertAfter(i.children().last())},offsetSliderPosition:function(e){var t=parseInt(i.css("left").replace("px",""));e?t-=a*f:t+=a*f,i.css({left:t})},getOffsetPosition:function(){return parseInt(i.css("left").replace("px",""))},calculateNonInfiniteLeftScroll:function(t){return v.clearDisabled(),v.getOffsetPosition()+t>=0?(e(l.navigationTargetSelector).find(".nbs-flexisel-nav-left").addClass("disabled"),0):v.getOffsetPosition()+t},calculateNonInfiniteRightScroll:function(t){v.clearDisabled();var n=r*a-o*a;return v.getOffsetPosition()-t<=-n?(e(l.navigationTargetSelector).find(".nbs-flexisel-nav-right").addClass("disabled"),-n):v.getOffsetPosition()-t},setAutoplayInterval:function(){d=setInterval(function(){s&&v.scroll(!1)},l.autoPlay.interval)},clearDisabled:function(){var t=e(l.navigationTargetSelector);t.find(".nbs-flexisel-nav-left").removeClass("disabled"),t.find(".nbs-flexisel-nav-right").removeClass("disabled")}};return v[t]?v[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Method "'+method+'" does not exist in flexisel plugin!'):v.init.apply(this)}}(jQuery);